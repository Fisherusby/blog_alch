{% extends 'base.html' %}

{% block base %}

<div class="card-columns">
  {% for blog in blogs_list %}
    <div class="card ">
      <div class="card-header">
        {{ blog.title }}
      </div>
      <div class="card-body">
        <p class="card-text ">{{ blog.blog_text|truncate(128, False, '...') }}</p>
        <a href="{{url_for('blog.detail',blog_id=blog.id)}}" class="btn btn-secondary btn-sm">Read</a>
        {% if blog.author_id==session.user_id %}
            <a href="{{url_for('blog.edit',blog_id=blog.id)}}" class="btn btn-primary btn-sm">Edit</a>
            <a href="{{url_for('blog.delete',blog_id=blog.id)}}" class="btn btn-danger btn-sm">Delete</a>
        {% endif %}
      </div>
      <div class="card-footer">
        <small class="text-muted">author: {{blog.author}} | published: {{blog.create_date}} {% if blog.edit_date %} | last edit: {{blog.edit_date}} {%endif%}</small>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}